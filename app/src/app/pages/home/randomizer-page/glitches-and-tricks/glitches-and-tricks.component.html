<form [formGroup]="formGroup">
    <mat-card-content class=settings-card-content>
        <div class="table-container">
            <div class="filter-section">
                <div>
                    <span>Filter</span>
                    <input type="text"
                            maxlength="30"
                            placeholder="Trick Name"
                            [(ngModel)]="searchText"
                            [ngModelOptions]="{standalone: true}"
                            (ngModelChange)="filter()"
                            matInput>
                </div>
                <span>Location</span>
                <select [(ngModel)]="selectedLocation" [ngModelOptions]="{standalone: true}">
                    <option *ngFor="let location of locationsList">{{location}}</option>
                </select>
                <div>
                    <button class = 'yellow-button' (click)="enableAll()" [disabled]="!filteredGlitches.length" >
                        <span>Enable All</span>
                    </button> 
                    <button class = 'yellow-button' (click)="disableAll()" [disabled]="!filteredGlitches.length" >
                        <span>Disable All</span>
                    </button> 
                </div>
                
            </div>
            <div class="tricks-section">
                <h2>Available tricks</h2>
                <mat-selection-list  #glitches class="glitches-list" formControlName="glitches">
                    <mat-list-option *ngFor="let glitch of glitchesList" [value]="glitch" [ngStyle]="{ display : isGlitchInFilteredList(glitch) ? 'block' : 'none' }">
                        <a class="image-link" [href]="glitch.link" target="_blank" rel="noopener noreferrer">
                            <mat-icon  *ngIf="glitch.link" class="material-icons-outlined">smart_display</mat-icon>
                        </a>
                        <app-tooltip-span [tooltipText]="glitch.description" [spanText]="glitch.name"></app-tooltip-span>
                        
                    </mat-list-option>
                    <span class="no-results" *ngIf="!filteredGlitches.length">No Results</span>
                </mat-selection-list>
            </div>
            <div class="tricks-section">
                <h2> Enabled tricks</h2>
                <mat-list class="glitches-list">
                    <mat-list-item *ngFor="let enabledGlitch of formGroup.get('glitches').value">
                        <a class="image-link" [href]="enabledGlitch.link" target="_blank" rel="noopener noreferrer">
                            <mat-icon  *ngIf="enabledGlitch.link" class="material-icons-outlined">smart_display</mat-icon>
                        </a>
                        <app-tooltip-span [tooltipText]="enabledGlitch.description" [spanText]="enabledGlitch.name"></app-tooltip-span>
                    </mat-list-item>
                </mat-list>
            </div>
            
        </div>
    </mat-card-content>
</form>